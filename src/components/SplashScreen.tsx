import * as React from "react";
import { Bus } from "lucide-react";
import { cn } from "@/lib/utils";

export interface SplashScreenProps {
  appName?: string;
  onTap?: () => void;
  autoAdvance?: boolean;
  delay?: number;
  className?: string;
}

const SplashScreen = React.forwardRef<HTMLDivElement, SplashScreenProps>(
  (
    {
      appName = "Buscomfy+",
      onTap,
      autoAdvance = false,
      delay = 3000,
      className,
      ...props
    },
    ref,
  ) => {
    React.useEffect(() => {
      if (autoAdvance && onTap) {
        const timer = setTimeout(() => {
          onTap();
        }, delay);

        return () => clearTimeout(timer);
      }
    }, [autoAdvance, onTap, delay]);

    return (
      <div
        ref={ref}
        onClick={onTap}
        className={cn(
          "relative flex h-[550px] w-full max-w-md mx-auto flex-col items-center justify-center overflow-hidden rounded-3xl bg-gradient-to-br from-orange-500 to-orange-600 font-inter cursor-pointer",
          className,
        )}
        {...props}
      >
        {/* Background Gradient */}
        <div className="absolute inset-0 bg-gradient-to-br from-[#F7960F] to-[#FF8C00]" />

        {/* Logo Container */}
        <div className="relative z-10 flex flex-col items-center justify-center">
          {/* Detailed Bus Icon from Figma */}
          <div className="mb-6">
            <div className="w-24 h-24 bg-white rounded-[35px] flex items-center justify-center shadow-lg">
              <svg
                width="119"
                height="118"
                viewBox="0 0 119 118"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="w-16 h-16"
              >
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M22.7768 0.631491C18.8762 1.35801 17.6805 1.7372 14.9474 3.11375C8.45048 6.38555 3.50073 12.8281 1.71857 20.3316L0.978027 23.4504V59.0707V94.6909L1.71725 97.7933C4.13149 107.923 11.2641 114.959 21.4703 117.279C24.6323 117.997 24.7706 118 59.978 118H95.3123L98.5992 117.264C108.585 115.028 115.957 107.655 118.236 97.6259L118.978 94.3626V59.0707C118.978 23.8217 118.977 23.7748 118.25 20.5818C116.695 13.7486 113.201 8.54838 107.53 4.62523C104.754 2.70534 101.371 1.41251 97.1198 0.648234C93.5137 -0.000481452 92.2663 -0.0218198 59.674 0.00805526C28.6466 0.0366171 25.7048 0.0861894 22.7768 0.631491ZM66.5673 14.6242C79.2584 16.8014 89.7926 24.7331 95.7304 36.5823C96.9071 38.9303 98.3543 43.7284 98.9381 47.2175C99.6684 51.5796 99.4689 58.2657 98.4865 62.3536C96.6179 70.1313 93.1456 76.1838 87.3537 81.7606C83.1133 85.8433 79.6955 88.0564 74.1489 90.3104C72.4456 91.0028 70.435 91.9303 69.6813 92.3715C66.1623 94.4312 62.3265 99.1397 61.1666 102.823C60.3488 105.42 59.6497 105.372 58.6695 102.652C56.4505 96.4939 52.874 93.2119 44.8103 89.9342C35.4574 86.1329 27.5849 78.2619 23.4749 68.6031C20.8727 62.4882 19.8633 53.7838 20.9986 47.252C22.7896 36.949 27.8505 28.5289 36.1479 22.047C44.3435 15.6448 55.9746 12.8067 66.5673 14.6242ZM45.488 32.2715C43.8331 32.8624 42.0854 34.3387 41.1864 35.905C40.4584 37.1739 40.4157 37.5954 40.3161 44.5435L40.2115 51.8481H43.1921H46.173V46.9237C46.173 42.4368 46.2315 41.9408 46.8304 41.3426C47.4648 40.709 47.9259 40.686 59.978 40.686C72.0301 40.686 72.4913 40.709 73.1257 41.3426C73.7245 41.9408 73.783 42.4368 73.783 46.9237V51.8481H76.7639H79.7445L79.64 44.5435C79.5253 36.5515 79.4802 36.3436 77.3999 34.172C75.1593 31.8328 75.1803 31.8355 60.1424 31.8437C50.0332 31.8489 46.3715 31.956 45.488 32.2715ZM67.6651 35.8437C67.9294 36.2626 67.9294 36.5738 67.6651 36.9927C67.3407 37.5065 66.5463 37.5767 60.1483 37.6559C52.7919 37.7468 52.0894 37.6411 52.0894 36.4438C52.0894 35.1759 52.6364 35.0896 60.0964 35.1808C66.544 35.2599 67.3407 35.3295 67.6651 35.8437ZM36.0115 41.145C35.764 41.4428 35.6635 42.7267 35.7249 44.8032C35.8022 47.4276 35.9228 48.0681 36.3945 48.3646C36.8132 48.6275 37.1261 48.6275 37.5449 48.3646C38.0165 48.0681 38.1372 47.4276 38.2144 44.8032C38.3127 41.4812 38.0721 40.686 36.9697 40.686C36.6525 40.686 36.2212 40.8925 36.0115 41.145ZM82.0282 41.145C81.7807 41.4428 81.6802 42.7267 81.7416 44.8032C81.8189 47.4276 81.9395 48.0681 82.4112 48.3646C82.8299 48.6275 83.1428 48.6275 83.5616 48.3646C84.0333 48.0681 84.1539 47.4276 84.2311 44.8032C84.3294 41.4812 84.0888 40.686 82.9864 40.686C82.6692 40.686 82.238 40.8925 82.0282 41.145ZM40.2566 62.8461V71.2177H43.2148H46.173V72.2278C46.173 73.6142 47.731 75.1572 49.1312 75.1572C50.5315 75.1572 52.0894 73.6142 52.0894 72.2278V71.2177H59.978H67.8666V72.2278C67.8666 73.6142 69.4246 75.1572 70.8248 75.1572C72.225 75.1572 73.783 73.6142 73.783 72.2278V71.2177H76.7413H79.6995V62.8461V54.4745H59.978H40.2566V62.8461ZM51.1763 61.2959C51.5093 61.6284 51.8692 62.4387 51.976 63.0966C52.1434 64.1264 52.0313 64.4321 51.1691 65.2932C50.4766 65.9849 49.8484 66.2932 49.1312 66.2932C48.414 66.2932 47.7859 65.9849 47.0933 65.2932C46.2282 64.4288 46.1185 64.1278 46.2858 63.0772C46.5605 61.3533 47.8937 60.2571 49.4156 60.504C50.0512 60.6068 50.8434 60.9633 51.1763 61.2959ZM72.934 61.3599C73.384 61.8093 73.6039 62.4584 73.6039 63.3385C73.6039 65.1287 72.6044 66.1143 70.7883 66.1143C68.0125 66.1143 66.9246 62.9442 69.0634 61.089C70.1273 60.1662 71.8605 60.2873 72.934 61.3599Z"
                  fill="#EF940E"
                />
              </svg>
            </div>
          </div>
          {/* App Name */}
          <h1 className="text-2xl font-bold text-white tracking-wide">
            {appName}
          </h1>
        </div>

        {/* Tap hint for manual advance */}
        {!autoAdvance && onTap && (
          <div className="absolute bottom-4 left-1/2 transform -translate-x-1/2">
            <p className="text-white/80 text-xs font-medium">Tap to continue</p>
          </div>
        )}
      </div>
    );
  },
);

SplashScreen.displayName = "SplashScreen";

export { SplashScreen };
