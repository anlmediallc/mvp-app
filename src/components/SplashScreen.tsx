import * as React from "react";
import { Bus } from "lucide-react";
import { cn } from "@/lib/utils";

export interface SplashScreenProps {
  appName?: string;
  onTap?: () => void;
  autoAdvance?: boolean;
  delay?: number;
  className?: string;
}

const SplashScreen = React.forwardRef<HTMLDivElement, SplashScreenProps>(
  (
    {
      appName = "Buscomfy+",
      onTap,
      autoAdvance = false,
      delay = 3000,
      className,
      ...props
    },
    ref,
  ) => {
    React.useEffect(() => {
      if (autoAdvance && onTap) {
        const timer = setTimeout(() => {
          onTap();
        }, delay);

        return () => clearTimeout(timer);
      }
    }, [autoAdvance, onTap, delay]);

    return (
      <div
        ref={ref}
        onClick={onTap}
        className={cn(
          "relative flex h-[550px] w-full max-w-md mx-auto flex-col items-center justify-center overflow-hidden rounded-3xl bg-gradient-to-br from-orange-500 to-orange-600 font-inter cursor-pointer",
          className,
        )}
        {...props}
      >
        {/* Background Gradient */}
        <div className="absolute inset-0 bg-gradient-to-br from-[#F7960F] to-[#FF8C00]" />

        {/* Logo Container */}
        <div className="relative z-10 flex flex-col items-center justify-center">
          {/* New gradient container with bus icon */}
          <div
            className="mb-6 flex items-center justify-center"
            style={{
              width: "158px",
              height: "158px",
              background:
                "linear-gradient(135deg, #F59E0B 0%, #EF940E 50%, #D97706 100%)",
              borderRadius: "32px",
              boxShadow:
                "0 8px 32px rgba(239,148,14,0.3), 0 4px 16px rgba(239,148,14,0.2)",
              position: "relative",
              overflow: "hidden",
            }}
          >
            <svg
              width="139"
              height="138"
              viewBox="0 0 139 138"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="app-icon"
              style={{
                width: "118px",
                height: "118px",
                filter: "drop-shadow(0 2px 8px rgba(0,0,0,0.1))",
              }}
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M32.7768 10.6315C28.8762 11.358 27.6805 11.7372 24.9474 13.1137C18.4505 16.3856 13.5007 22.8281 11.7186 30.3316L10.978 33.4504V69.0707V104.691L11.7173 107.793C14.1315 117.923 21.2641 124.959 31.4703 127.279C34.6323 127.997 34.7706 128 69.978 128H105.312L108.599 127.264C118.585 125.028 125.957 117.655 128.236 107.626L128.978 104.363V69.0707C128.978 33.8217 128.977 33.7748 128.25 30.5818C126.695 23.7486 123.201 18.5484 117.53 14.6252C114.754 12.7053 111.371 11.4125 107.12 10.6482C103.514 9.99952 102.266 9.97818 69.674 10.0081C38.6466 10.0366 35.7048 10.0862 32.7768 10.6315ZM76.5673 24.6242C89.2584 26.8014 99.7926 34.7331 105.73 46.5823C106.907 48.9303 108.354 53.7284 108.938 57.2175C109.668 61.5796 109.469 68.2657 108.486 72.3536C106.618 80.1313 103.146 86.1838 97.3537 91.7606C93.1133 95.8433 89.6955 98.0564 84.1489 100.31C82.4456 101.003 80.435 101.93 79.6813 102.371C76.1623 104.431 72.3265 109.14 71.1666 112.823C70.3488 115.42 69.6497 115.372 68.6695 112.652C66.4505 106.494 62.874 103.212 54.8103 99.9342C45.4574 96.1329 37.5849 88.2619 33.4749 78.6031C30.8727 72.4882 29.8633 63.7838 30.9986 57.252C32.7896 46.949 37.8505 38.5289 46.1479 32.047C54.3435 25.6448 65.9746 22.8067 76.5673 24.6242ZM55.488 42.2715C53.8331 42.8624 52.0854 44.3387 51.1864 45.905C50.4584 47.1739 50.4157 47.5954 50.3161 54.5435L50.2115 61.8481H53.1921H56.173V56.9237C56.173 52.4368 56.2315 51.9408 56.8304 51.3426C57.4648 50.709 57.9259 50.686 69.978 50.686C82.0301 50.686 82.4913 50.709 83.1257 51.3426C83.7245 51.9408 83.783 52.4368 83.783 56.9237V61.8481H86.7639H89.7445L89.64 54.5435C89.5253 46.5515 89.4802 46.3436 87.4 44.172C85.1593 41.8328 85.1803 41.8355 70.1424 41.8437C60.0332 41.8489 56.3715 41.956 55.488 42.2715ZM77.6651 45.8437C77.9294 46.2626 77.9294 46.5738 77.6651 46.9927C77.3407 47.5065 76.5463 47.5767 70.1483 47.6559C62.7919 47.7468 62.0894 47.6411 62.0894 46.4438C62.0894 45.1759 62.6364 45.0896 70.0964 45.1808C76.544 45.2599 77.3407 45.3295 77.6651 45.8437ZM46.0115 51.145C45.764 51.4428 45.6635 52.7267 45.7249 54.8032C45.8022 57.4276 45.9228 58.0681 46.3945 58.3646C46.8132 58.6275 47.1261 58.6275 47.5449 58.3646C48.0165 58.0681 48.1372 57.4276 48.2144 54.8032C48.3127 51.4812 48.0721 50.686 46.9697 50.686C46.6525 50.686 46.2212 50.8925 46.0115 51.145ZM92.0282 51.145C91.7807 51.4428 91.6802 52.7267 91.7416 54.8032C91.8189 57.4276 91.9395 58.0681 92.4112 58.3646C92.8299 58.6275 93.1428 58.6275 93.5616 58.3646C94.0333 58.0681 94.1539 57.4276 94.2311 54.8032C94.3294 51.4812 94.0888 50.686 92.9864 50.686C92.6692 50.686 92.2379 50.8925 92.0282 51.145ZM50.2566 72.8461V81.2177H53.2148H56.173V82.2278C56.173 83.6142 57.731 85.1572 59.1312 85.1572C60.5315 85.1572 62.0894 83.6142 62.0894 82.2278V81.2177H69.978H77.8666V82.2278C77.8666 83.6142 79.4246 85.1572 80.8248 85.1572C82.225 85.1572 83.783 83.6142 83.783 82.2278V81.2177H86.7413H89.6995V72.8461V64.4745H69.978H50.2566V72.8461ZM61.1763 71.2959C61.5093 71.6284 61.8692 72.4387 61.976 73.0966C62.1434 74.1264 62.0313 74.4321 61.1691 75.2932C60.4766 75.9849 59.8484 76.2932 59.1312 76.2932C58.414 76.2932 57.7859 75.9849 57.0933 75.2932C56.2282 74.4288 56.1185 74.1278 56.2858 73.0772C56.5605 71.3533 57.8937 70.2571 59.4155 70.504C60.0512 70.6068 60.8434 70.9633 61.1763 71.2959ZM82.934 71.3599C83.384 71.8093 83.6039 72.4584 83.6039 73.3385C83.6039 75.1287 82.6044 76.1143 80.7883 76.1143C78.0125 76.1143 76.9246 72.9442 79.0634 71.089C80.1273 70.1662 81.8605 70.2873 82.934 71.3599Z"
                fill="#EF940E"
              />
            </svg>
          </div>
          {/* App Name */}
          <h1 className="text-2xl font-bold text-white tracking-wide">
            {appName}
          </h1>
        </div>

        {/* Tap hint for manual advance */}
        {!autoAdvance && onTap && (
          <div className="absolute bottom-4 left-1/2 transform -translate-x-1/2">
            <p className="text-white/80 text-xs font-medium">Tap to continue</p>
          </div>
        )}
      </div>
    );
  },
);

SplashScreen.displayName = "SplashScreen";

export { SplashScreen };
